{"version":3,"file":"eye.js","sourceRoot":"","sources":["../../../src/components/x-eyes/eye.ts"],"names":[],"mappings":"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","sourcesContent":["type Offset = { x: number, y: number }\n\nexport type Position = 'center' | 'top' | 'bottom' | 'left' | 'right' | 'topRight' |\n  'topLeft' | 'bottomRight' | 'bottomLeft' | number | Offset\n\nexport type Radius = 'natural' | 'circular'\n\ntype Options = {\n  distance?: number\n  reset?: boolean\n  radius?: Radius\n  position?: Position\n  delay?: number\n  trigger?: Window | HTMLElement,\n  onReset?: () => void\n}\n\nconst defaultOptions: Options = {\n  distance: 0,\n  reset: false,\n  radius: 'natural',\n  position: 'center',\n  delay: 0,\n  trigger: window\n}\n\nconst positions = {\n  top: 90,\n  bottom: -90,\n  left: 180,\n  right: 0,\n  topRight: 45,\n  topLeft: 135,\n  bottomRight: -45,\n  bottomLeft: -135\n}\n\nclass Iris {\n  el: HTMLElement\n  width: number\n  height: number\n  offset: Offset\n\n  constructor(el) {\n    this.el = el\n\n    this.width  = el.offsetWidth\n    this.height = el.offsetHeight\n  }\n\n  resetOffset() {\n    const rect = this.el.getBoundingClientRect()\n    const win = this.el.ownerDocument.defaultView\n    const offset = {\n      top: rect.top + win.pageYOffset,\n      left: rect.left + win.pageXOffset\n    }\n    const style = win.getComputedStyle(this.el)\n    this.offset = {\n      x: offset.left + (this.width / 2) - parseInt(style.left),\n      y: offset.top + (this.height / 2) - parseInt(style.top)\n    }\n  }\n\n  setOffset({ x, y }: Offset) {\n    this.el.style.left = `${x}px`\n    this.el.style.top = `${y}px`\n  }\n}\n\nexport class Eye {\n  el: HTMLElement\n  width: number\n  height: number\n  distance: number\n  position: Offset\n  iris: Iris\n  mousemove: (MouseEvent) => void\n  mouseenter: (MouseEvent) => void\n  mouseleave: (MouseEvent) => void\n  options: Options\n\n  constructor(el: HTMLElement, irisEl: HTMLElement) {\n    this.el = el\n\n    this.width  = this.el.scrollWidth\n    this.height = this.el.scrollHeight\n\n    this.iris   = new Iris(irisEl)\n\n    this.position = {\n      x: (this.width - this.iris.width) / 2,\n      y: (this.height - this.iris.height) / 2\n    }\n\n    this.iris.setOffset(this.position)\n\n    this.distance = 0\n  }\n\n  follow(mouse: Offset): void {\n    mouse.x = mouse.x - this.position.x\n    mouse.y = mouse.y - this.position.y\n\n    this.iris.resetOffset()\n\n    const degree = Math.atan(( mouse.y - this.iris.offset.y) / ( mouse.x - this.iris.offset.x)),\n    direction = (this.iris.offset.x > mouse.x) ? -1 : 1,\n    newX = Math.cos(degree) * ((this.width - this.iris.width) / 2 - this.distance) * direction,\n    newY = Math.sin(degree) * ((this.height - this.iris.height) / 2 - this.distance) * direction,\n    radius = Math.sqrt(Math.pow(newX, 2) + Math.pow(newY, 2)),\n    distance = Math.sqrt(Math.pow(mouse.y - this.iris.offset.y, 2) + Math.pow(mouse.x - this.iris.offset.x, 2))\n\n    if (radius > distance) {\n      this.iris.setOffset({\n        x: mouse.x - this.iris.offset.x + this.position.x,\n        y: mouse.y - this.iris.offset.y + this.position.y\n      })\n    } else {\n      this.iris.setOffset({\n        x: this.position.x + newX,\n        y: this.position.y + newY\n      })\n    }\n  }\n\n  setPosition(position: Position): void {\n    if (typeof position === 'object') {\n      this.iris.setOffset({\n        x: this.position.x - position.x,\n        y: this.position.y - position.y\n      })\n    } else if (typeof position === 'number') {\n      const degree = position * Math.PI / -180\n      this.iris.setOffset({\n        x: this.position.x + Math.cos(degree) * (this.width / 2 - this.iris.width / 2 - this.distance),\n        y: this.position.y + Math.sin(degree) * (this.height / 2 - this.iris.height / 2 - this.distance)\n      })\n    } else if (position === 'center') {\n      this.iris.setOffset({\n        x: this.position.x,\n        y: this.position.y\n      })\n    } else if (typeof position === 'string' && positions[position] !== undefined) {\n      const degree = positions[position] * Math.PI / -180\n      this.iris.setOffset({\n        x: this.position.x + Math.cos(degree) * (this.width / 2 - this.iris.width / 2 - this.distance),\n        y: this.position.y + Math.sin(degree) * (this.height / 2 - this.iris.height / 2 - this.distance)\n      })\n    }\n    const onReset = this.options.onReset\n    if (onReset) onReset()\n  }\n}\n\nexport function attachEye(irisEl: HTMLElement, options: Options = {}): Eye {\n  const {\n    distance = defaultOptions.distance,\n    position = defaultOptions.position,\n    radius = defaultOptions.radius\n  } = options\n\n  const eye = new Eye(irisEl.parentElement, irisEl)\n  eye.options = options\n  eye.distance = distance\n\n  if (radius == 'circular' && eye.width > eye.height) eye.width = eye.height\n  else if (radius == 'circular') eye.height = eye.width\n\n  eye.setPosition(position)\n\n  return eye\n}\n\nexport function detachEye(eye: Eye): void {\n  eye.el = null\n  eye.iris.el = null\n}\n\nexport function startFollowing(eye: Eye): void {\n  const {\n    delay = defaultOptions.delay,\n    position = defaultOptions.position,\n    reset = defaultOptions.reset,\n    trigger = defaultOptions.trigger\n  } = eye.options\n\n  let follow = true\n\n  eye.mousemove = ({ pageX, pageY }: MouseEvent) => {\n    if (!follow) return\n    if (delay) setTimeout(() => {\n      if (follow) eye.follow({ x: pageX, y: pageY })\n    }, delay)\n    else eye.follow({ x: pageX, y: pageY })\n  }\n  trigger.addEventListener('mousemove', eye.mousemove)\n\n  if (reset) {\n    const target = trigger === window ? document : (trigger as HTMLElement).ownerDocument\n\n    eye.mouseenter = () => { follow = true }\n    target.addEventListener('mouseenter', eye.mouseenter)\n\n    eye.mouseleave = () => {\n      follow = false\n      if (delay) setTimeout(() => eye.setPosition(position), delay)\n      else eye.setPosition(position)\n    }\n    target.addEventListener('mouseleave', eye.mouseleave)\n  }\n}\n\nexport function stopFollowing(eye: Eye): void {\n  const {\n    reset = defaultOptions.reset,\n    trigger = defaultOptions.trigger\n  } = eye.options\n\n  trigger.removeEventListener('mousemove', eye.mousemove)\n  eye.mousemove = null\n\n  if (reset) {\n    const target = trigger === window ? document : (trigger as HTMLElement).ownerDocument\n\n    target.removeEventListener('mouseenter', eye.mouseenter)\n    eye.mouseenter = null\n\n    target.removeEventListener('mouseleave', eye.mouseleave)\n    eye.mouseleave = null\n  }\n}\n"]}