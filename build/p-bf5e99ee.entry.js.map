{"version":3,"names":["defaultOptions","distance","reset","radius","position","delay","trigger","window","positions","top","bottom","left","right","topRight","topLeft","bottomRight","bottomLeft","Iris","el","width","height","offset","constructor","this","offsetWidth","offsetHeight","resetOffset","rect","getBoundingClientRect","win","ownerDocument","defaultView","pageYOffset","pageXOffset","style","getComputedStyle","x","parseInt","y","setOffset","Eye","iris","mousemove","mouseenter","mouseleave","options","irisEl","scrollWidth","scrollHeight","follow","mouse","degree","Math","atan","direction","newX","cos","newY","sin","sqrt","pow","setPosition","PI","undefined","onReset","attachEye","eye","parentElement","detachEye","startFollowing","pageX","pageY","setTimeout","addEventListener","target","document","stopFollowing","removeEventListener","xEyesCss","XEyesElement","resetPositionEvent","validateDelay","newValue","checkPositiveInteger","validateDistance","validatePosition","isPositiveInteger","Error","validateRadius","validateReset","leftIrisEl","rightIrisEl","leftEye","rightEye","render","h","Host","class","ref","async","connectedCallback","componentWillRender","componentDidRender","emit","disconnectedCallback","name","value","number","floor"],"sources":["./src/components/x-eyes/eye.ts","./src/components/x-eyes/x-eyes.css?tag=x-eyes&encapsulation=shadow","./src/components/x-eyes/x-eyes.tsx"],"sourcesContent":["type Offset = { x: number, y: number }\n\nexport type Position = 'center' | 'top' | 'bottom' | 'left' | 'right' | 'topRight' |\n  'topLeft' | 'bottomRight' | 'bottomLeft' | number | Offset\n\nexport type Radius = 'natural' | 'circular'\n\ntype Options = {\n  distance?: number\n  reset?: boolean\n  radius?: Radius\n  position?: Position\n  delay?: number\n  trigger?: Window | HTMLElement,\n  onReset?: () => void\n}\n\nconst defaultOptions: Options = {\n  distance: 0,\n  reset: false,\n  radius: 'natural',\n  position: 'center',\n  delay: 0,\n  trigger: window\n}\n\nconst positions = {\n  top: 90,\n  bottom: -90,\n  left: 180,\n  right: 0,\n  topRight: 45,\n  topLeft: 135,\n  bottomRight: -45,\n  bottomLeft: -135\n}\n\nclass Iris {\n  el: HTMLElement\n  width: number\n  height: number\n  offset: Offset\n\n  constructor(el) {\n    this.el = el\n\n    this.width  = el.offsetWidth\n    this.height = el.offsetHeight\n  }\n\n  resetOffset() {\n    const rect = this.el.getBoundingClientRect()\n    const win = this.el.ownerDocument.defaultView\n    const offset = {\n      top: rect.top + win.pageYOffset,\n      left: rect.left + win.pageXOffset\n    }\n    const style = win.getComputedStyle(this.el)\n    this.offset = {\n      x: offset.left + (this.width / 2) - parseInt(style.left),\n      y: offset.top + (this.height / 2) - parseInt(style.top)\n    }\n  }\n\n  setOffset({ x, y }: Offset) {\n    this.el.style.left = `${x}px`\n    this.el.style.top = `${y}px`\n  }\n}\n\nexport class Eye {\n  el: HTMLElement\n  width: number\n  height: number\n  distance: number\n  position: Offset\n  iris: Iris\n  mousemove: (MouseEvent) => void\n  mouseenter: (MouseEvent) => void\n  mouseleave: (MouseEvent) => void\n  options: Options\n\n  constructor(el: HTMLElement, irisEl: HTMLElement) {\n    this.el = el\n\n    this.width  = this.el.scrollWidth\n    this.height = this.el.scrollHeight\n\n    this.iris   = new Iris(irisEl)\n\n    this.position = {\n      x: (this.width - this.iris.width) / 2,\n      y: (this.height - this.iris.height) / 2\n    }\n\n    this.iris.setOffset(this.position)\n\n    this.distance = 0\n  }\n\n  follow(mouse: Offset): void {\n    mouse.x = mouse.x - this.position.x\n    mouse.y = mouse.y - this.position.y\n\n    this.iris.resetOffset()\n\n    const degree = Math.atan(( mouse.y - this.iris.offset.y) / ( mouse.x - this.iris.offset.x)),\n    direction = (this.iris.offset.x > mouse.x) ? -1 : 1,\n    newX = Math.cos(degree) * ((this.width - this.iris.width) / 2 - this.distance) * direction,\n    newY = Math.sin(degree) * ((this.height - this.iris.height) / 2 - this.distance) * direction,\n    radius = Math.sqrt(Math.pow(newX, 2) + Math.pow(newY, 2)),\n    distance = Math.sqrt(Math.pow(mouse.y - this.iris.offset.y, 2) + Math.pow(mouse.x - this.iris.offset.x, 2))\n\n    if (radius > distance) {\n      this.iris.setOffset({\n        x: mouse.x - this.iris.offset.x + this.position.x,\n        y: mouse.y - this.iris.offset.y + this.position.y\n      })\n    } else {\n      this.iris.setOffset({\n        x: this.position.x + newX,\n        y: this.position.y + newY\n      })\n    }\n  }\n\n  setPosition(position: Position): void {\n    if (typeof position === 'object') {\n      this.iris.setOffset({\n        x: this.position.x - position.x,\n        y: this.position.y - position.y\n      })\n    } else if (typeof position === 'number') {\n      const degree = position * Math.PI / -180\n      this.iris.setOffset({\n        x: this.position.x + Math.cos(degree) * (this.width / 2 - this.iris.width / 2 - this.distance),\n        y: this.position.y + Math.sin(degree) * (this.height / 2 - this.iris.height / 2 - this.distance)\n      })\n    } else if (position === 'center') {\n      this.iris.setOffset({\n        x: this.position.x,\n        y: this.position.y\n      })\n    } else if (typeof position === 'string' && positions[position] !== undefined) {\n      const degree = positions[position] * Math.PI / -180\n      this.iris.setOffset({\n        x: this.position.x + Math.cos(degree) * (this.width / 2 - this.iris.width / 2 - this.distance),\n        y: this.position.y + Math.sin(degree) * (this.height / 2 - this.iris.height / 2 - this.distance)\n      })\n    }\n    const onReset = this.options.onReset\n    if (onReset) onReset()\n  }\n}\n\nexport function attachEye(irisEl: HTMLElement, options: Options = {}): Eye {\n  const {\n    distance = defaultOptions.distance,\n    position = defaultOptions.position,\n    radius = defaultOptions.radius\n  } = options\n\n  const eye = new Eye(irisEl.parentElement, irisEl)\n  eye.options = options\n  eye.distance = distance\n\n  if (radius == 'circular' && eye.width > eye.height) eye.width = eye.height\n  else if (radius == 'circular') eye.height = eye.width\n\n  eye.setPosition(position)\n\n  return eye\n}\n\nexport function detachEye(eye: Eye): void {\n  eye.el = null\n  eye.iris.el = null\n}\n\nexport function startFollowing(eye: Eye): void {\n  const {\n    delay = defaultOptions.delay,\n    position = defaultOptions.position,\n    reset = defaultOptions.reset,\n    trigger = defaultOptions.trigger\n  } = eye.options\n\n  let follow = true\n\n  eye.mousemove = ({ pageX, pageY }: MouseEvent) => {\n    if (!follow) return\n    if (delay) setTimeout(() => {\n      if (follow) eye.follow({ x: pageX, y: pageY })\n    }, delay)\n    else eye.follow({ x: pageX, y: pageY })\n  }\n  trigger.addEventListener('mousemove', eye.mousemove)\n\n  if (reset) {\n    const target = trigger === window ? document : (trigger as HTMLElement).ownerDocument\n\n    eye.mouseenter = () => { follow = true }\n    target.addEventListener('mouseenter', eye.mouseenter)\n\n    eye.mouseleave = () => {\n      follow = false\n      if (delay) setTimeout(() => eye.setPosition(position), delay)\n      else eye.setPosition(position)\n    }\n    target.addEventListener('mouseleave', eye.mouseleave)\n  }\n}\n\nexport function stopFollowing(eye: Eye): void {\n  const {\n    reset = defaultOptions.reset,\n    trigger = defaultOptions.trigger\n  } = eye.options\n\n  trigger.removeEventListener('mousemove', eye.mousemove)\n  eye.mousemove = null\n\n  if (reset) {\n    const target = trigger === window ? document : (trigger as HTMLElement).ownerDocument\n\n    target.removeEventListener('mouseenter', eye.mouseenter)\n    eye.mouseenter = null\n\n    target.removeEventListener('mouseleave', eye.mouseleave)\n    eye.mouseleave = null\n  }\n}\n",":host {\n  /**\n   * @prop --scale: Size transformation factor.\n   *\n   * If you want to make the eyes greater or smaller as a whole, setting this\n   * property is the simplest way. `1` (100%) is the default.\n   */\n  --scale: 1;\n  /**\n   * @prop --rim-color: Color of the eye vitreous rim - the border around the vitreous.\n   *\n   * `rgba(0,0,0,1)` is the default.\n   */\n  --rim-color: rgba(0,0,0,1);\n  /**\n   * @prop --rim-style: Line style of the eye rim - the border around the vitreous.\n   *\n   * `solid` is the default.\n   */\n   --rim-style: solid;\n  /**\n   * @prop --rim-thickness: Thickness of the eye rim - the border around the vitreous.\n   *\n   * Be careful not to make it too thick. `7px` is the default.\n   */\n  --rim-thickness: calc(var(--scale) * 7px);\n  /**\n   * @prop --eye-color: Color of the eye vitreous.\n   *\n   * `#fff` is the default.\n   */\n  --eye-color: #fff;\n  /**\n   * @prop --eye-width: Length of the x-axis of the eye ellipsis.\n   *\n   * Excludes the eye rim. `110px` is the default.\n   */\n  --eye-width: calc(var(--scale) * 110px);\n  /**\n   * @prop --eye-height: Length of the y-axis of the eye ellipsis.\n   *\n   * Excludes the eye rim. `150px` is the default.\n   */\n  --eye-height: calc(var(--scale) * 150px);\n  /**\n   * @prop --pupil-color: Color of the eye pupil.\n   *\n   * `#000` is the default.\n   */\n  --pupil-color: #000;\n  /**\n   * @prop --iris-color: Color of the eye iris.\n   *\n   * `#000` is the default.\n   */\n  --iris-color: #000;\n  /**\n   * @prop --iris-breadth: Breadth of the eye irs outside of the pupil.\n   *\n   * Be careful not to make it greater than the diameter io the iris.\n   * `7px` is the default.\n   */\n  --iris-breadth: calc(var(--scale) * 7px);\n  /**\n   * @prop --iris-diameter: Diameter of the eye irs.\n   *\n   * Be careful not to make it greater than the length of either of the axes\n   * of the elliptical shape of the eye. `25px` is the default.\n   */\n  --iris-diameter: calc(var(--scale) * 25px);\n  display: inline-block;\n  width: calc(var(--eye-width) * 2 + var(--rim-thickness) * 2 + 1);\n  height: calc(var(--eye-height) + var(--rim-thickness) * 2);\n}\n\n.eye {\n  width: var(--eye-width);\n  height: var(--eye-height);\n  background: var(--eye-color);\n  border-radius: 50%;\n  border-width: var(--rim-thickness);\n  border-style: var(--rim-style);\n  border-color: var(--rim-color);\n  position: relative;\n  display: inline-block;\n  cursor: none;\n}\n\n.iris {\n  background: var(--pupil-color);\n  width: calc(var(--iris-diameter) - var(--iris-breadth) * 2);\n  height: calc(var(--iris-diameter) - var(--iris-breadth) * 2);\n  border-radius: 50%;\n  border: var(--iris-breadth) solid var(--iris-color);\n  position: absolute;\n}\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\nimport { Component, Prop, Event, EventEmitter, Watch, Host, Method, h } from '@stencil/core'\nimport {\n  attachEye, detachEye, startFollowing, stopFollowing, Eye, Radius\n} from './eye'\n\nexport type Position = 'center' | 'top' | 'bottom' | 'left' | 'right' |\n  'topRight' | 'topLeft' | 'bottomRight' | 'bottomLeft' | number\n\n/**\n * Shows a pair of eyes following movements of the mouse cursor on the page.\n */\n@Component({ tag: 'x-eyes', styleUrl: 'x-eyes.css', shadow: true })\nexport class XEyesElement {\n  /**\n   * Delay the reaction of the eye of the mouse cursor movement.\n   * A number representing a time period in milliseconds is expected.\n   */\n  @Prop({ reflect: true }) delay = 0\n  /**\n   * The minimum distance of the iris from the eye rim to keep when following\n   * the mouse cursor movements.\n   */\n  @Prop({ reflect: true }) distance = 0\n  /**\n   * The starting position of the pupil in the vitreous. Either a position\n   * constant or a number representing an angle in degrees near the eye rim\n   * to place the pupil to.\n   */\n  @Prop({ reflect: true }) position: Position = 'center'\n  /**\n   * The clipping path of the movement of the eye pupil. Either the natural\n   * area of the eye vitreous, or only a circle in the middle of it.\n   */\n  @Prop({ reflect: true }) radius: Radius = 'natural'\n  /**\n   * Moves the pupil to the starting position specified by the `position`\n   * property, when the mouse cursor leaves the page boundary.\n   */\n  @Prop({ reflect: true }) reset = false\n\n  /**\n   * Emitted whenever the pupil position gets reset to the original value.\n   */\n  @Event({ eventName: 'resetposition' }) resetPositionEvent: EventEmitter<undefined>;\n\n  @Watch('delay')\n  validateDelay(newValue: string): void {\n    checkPositiveInteger('delay', newValue)\n  }\n\n  @Watch('distance')\n  validateDistance(newValue: string): void {\n    checkPositiveInteger('distance', newValue)\n  }\n\n  @Watch('position')\n  validatePosition(newValue: string): void {\n    if (newValue != null && newValue !== '' &&\n        newValue !== 'center' && newValue !== 'top' &&\n        newValue !== 'bottom' && newValue !== 'left' &&\n        newValue !== 'right' && newValue !== 'topRight' &&\n        newValue !== 'topLeft' && newValue !== 'bottomRight' &&\n        newValue !== 'bottomLeft' && !isPositiveInteger(newValue)) {\n      throw new Error('position has to be \"center\", \"top\", \"bottom\", \"left\", \"right\", \"topRight\", \"topLeft\", \"bottomRight\", \"bottomLeft\" or an positive integet, if not empty')\n    }\n  }\n\n  @Watch('radius')\n  validateRadius(newValue: string): void {\n    if (newValue != null && newValue !== '' &&\n        newValue !== 'natural' && newValue !== 'circular') {\n      throw new Error('radius has to be \"natural\" or \"circular\", if not empty')\n    }\n  }\n\n  @Watch('reset')\n  validateReset(newValue: string | boolean): void {\n    if (newValue != null && newValue !== '' &&\n        newValue !== 'true' && newValue !== 'false' &&\n        newValue !== true && newValue !== false) {\n      throw new Error('reset has to be a boolean, if not empty')\n    }\n  }\n\n  private leftIrisEl: HTMLElement\n  private rightIrisEl: HTMLElement\n\n  private leftEye: Eye\n  private rightEye: Eye\n\n  render(): HTMLElement {\n    return <Host>\n  <div class=\"eye\">\n    <div class=\"iris\" ref={el => this.leftIrisEl = el}></div>\n  </div>\n  <div class=\"eye\">\n    <div class=\"iris\" ref={el => this.rightIrisEl = el}></div>\n  </div>\n</Host>\n  }\n\n  /**\n   * Enables the eye pupil to follow the mouse cursor movements. This happens\n   * automatically after inserting the element and can be changed by calling\n   * `stopFollowing`.\n   * Returns `true` if the movements started.\n   */\n  @Method()\n  async startFollowing(): Promise<boolean> {\n    if (this.leftEye && !this.leftEye.mousemove) {\n      startFollowing(this.leftEye)\n      startFollowing(this.rightEye)\n      return true\n    }\n  }\n\n  /**\n   * Disables the eye pupil to follow the mouse cursor movements. The mouse\n   * cursor movements can be followed again by calling `startFollowing`.\n   * Returns `true` if the movements stopped.\n   */\n  @Method()\n  async stopFollowing(): Promise<boolean> {\n    if (this.leftEye && this.leftEye.mousemove) {\n      stopFollowing(this.leftEye)\n      stopFollowing(this.rightEye)\n      return true\n    }\n  }\n\n  /**\n   * Sets the position of the eye pupil to the initial value set by `position`.\n   * Returns `true` if the position was reset.\n   */\n  @Method()\n  async resetPosition(): Promise<boolean> {\n    if (this.leftEye) {\n      this.leftEye.setPosition(this.position)\n      this.rightEye.setPosition(this.position)\n      return true\n    }\n  }\n\n  connectedCallback(): void {\n    this.startFollowing()\n  }\n\n  componentWillRender(): void {\n    if (this.leftEye) {\n      this.stopFollowing()\n      detachEye(this.leftEye)\n      detachEye(this.rightEye)\n    }\n  }\n\n  componentDidRender(): void {\n    const { delay, distance, position, radius, reset } = this\n    const onReset = (): void => { this.resetPositionEvent.emit() }\n    const options = { delay, distance, position, radius, reset, onReset }\n    this.leftEye = attachEye(this.leftIrisEl, options)\n    this.rightEye = attachEye(this.rightIrisEl, options)\n    this.startFollowing()\n  }\n\n  disconnectedCallback(): void {\n    this.stopFollowing()\n  }\n}\n\nfunction checkPositiveInteger(name: string, value: string): void {\n  if (value == null || value === '') return\n  if (!isPositiveInteger(value)) throw new Error(`${name} has to be a positive integer, if not empty`)\n}\n\nfunction isPositiveInteger(value: string): boolean {\n  const number = +value;\n  return number >= 0  && number === Math.floor(number)\n}\n"],"mappings":"yDAiBA,MAAMA,EAA0B,CAC9BC,SAAU,EACVC,MAAO,MACPC,OAAQ,UACRC,SAAU,SACVC,MAAO,EACPC,QAASC,QAGX,MAAMC,EAAY,CAChBC,IAAK,GACLC,QAAS,GACTC,KAAM,IACNC,MAAO,EACPC,SAAU,GACVC,QAAS,IACTC,aAAc,GACdC,YAAa,KAGf,MAAMC,EACJC,GACAC,MACAC,OACAC,OAEAC,YAAYJ,GACVK,KAAKL,GAAKA,EAEVK,KAAKJ,MAASD,EAAGM,YACjBD,KAAKH,OAASF,EAAGO,Y,CAGnBC,cACE,MAAMC,EAAOJ,KAAKL,GAAGU,wBACrB,MAAMC,EAAMN,KAAKL,GAAGY,cAAcC,YAClC,MAAMV,EAAS,CACbZ,IAAKkB,EAAKlB,IAAMoB,EAAIG,YACpBrB,KAAMgB,EAAKhB,KAAOkB,EAAII,aAExB,MAAMC,EAAQL,EAAIM,iBAAiBZ,KAAKL,IACxCK,KAAKF,OAAS,CACZe,EAAGf,EAAOV,KAAQY,KAAKJ,MAAQ,EAAKkB,SAASH,EAAMvB,MACnD2B,EAAGjB,EAAOZ,IAAOc,KAAKH,OAAS,EAAKiB,SAASH,EAAMzB,K,CAIvD8B,WAAUH,EAAEA,EAACE,EAAEA,IACbf,KAAKL,GAAGgB,MAAMvB,KAAO,GAAGyB,MACxBb,KAAKL,GAAGgB,MAAMzB,IAAM,GAAG6B,K,QAIdE,EACXtB,GACAC,MACAC,OACAnB,SACAG,SACAqC,KACAC,UACAC,WACAC,WACAC,QAEAvB,YAAYJ,EAAiB4B,GAC3BvB,KAAKL,GAAKA,EAEVK,KAAKJ,MAASI,KAAKL,GAAG6B,YACtBxB,KAAKH,OAASG,KAAKL,GAAG8B,aAEtBzB,KAAKkB,KAAS,IAAIxB,EAAK6B,GAEvBvB,KAAKnB,SAAW,CACdgC,GAAIb,KAAKJ,MAAQI,KAAKkB,KAAKtB,OAAS,EACpCmB,GAAIf,KAAKH,OAASG,KAAKkB,KAAKrB,QAAU,GAGxCG,KAAKkB,KAAKF,UAAUhB,KAAKnB,UAEzBmB,KAAKtB,SAAW,C,CAGlBgD,OAAOC,GACLA,EAAMd,EAAIc,EAAMd,EAAIb,KAAKnB,SAASgC,EAClCc,EAAMZ,EAAIY,EAAMZ,EAAIf,KAAKnB,SAASkC,EAElCf,KAAKkB,KAAKf,cAEV,MAAMyB,EAASC,KAAKC,MAAOH,EAAMZ,EAAIf,KAAKkB,KAAKpB,OAAOiB,IAAOY,EAAMd,EAAIb,KAAKkB,KAAKpB,OAAOe,IACxFkB,EAAa/B,KAAKkB,KAAKpB,OAAOe,EAAIc,EAAMd,GAAM,EAAI,EAClDmB,EAAOH,KAAKI,IAAIL,KAAY5B,KAAKJ,MAAQI,KAAKkB,KAAKtB,OAAS,EAAII,KAAKtB,UAAYqD,EACjFG,EAAOL,KAAKM,IAAIP,KAAY5B,KAAKH,OAASG,KAAKkB,KAAKrB,QAAU,EAAIG,KAAKtB,UAAYqD,EACnFnD,EAASiD,KAAKO,KAAKP,KAAKQ,IAAIL,EAAM,GAAKH,KAAKQ,IAAIH,EAAM,IACtDxD,EAAWmD,KAAKO,KAAKP,KAAKQ,IAAIV,EAAMZ,EAAIf,KAAKkB,KAAKpB,OAAOiB,EAAG,GAAKc,KAAKQ,IAAIV,EAAMd,EAAIb,KAAKkB,KAAKpB,OAAOe,EAAG,IAExG,GAAIjC,EAASF,EAAU,CACrBsB,KAAKkB,KAAKF,UAAU,CAClBH,EAAGc,EAAMd,EAAIb,KAAKkB,KAAKpB,OAAOe,EAAIb,KAAKnB,SAASgC,EAChDE,EAAGY,EAAMZ,EAAIf,KAAKkB,KAAKpB,OAAOiB,EAAIf,KAAKnB,SAASkC,G,KAE7C,CACLf,KAAKkB,KAAKF,UAAU,CAClBH,EAAGb,KAAKnB,SAASgC,EAAImB,EACrBjB,EAAGf,KAAKnB,SAASkC,EAAImB,G,EAK3BI,YAAYzD,GACV,UAAWA,IAAa,SAAU,CAChCmB,KAAKkB,KAAKF,UAAU,CAClBH,EAAGb,KAAKnB,SAASgC,EAAIhC,EAASgC,EAC9BE,EAAGf,KAAKnB,SAASkC,EAAIlC,EAASkC,G,MAE3B,UAAWlC,IAAa,SAAU,CACvC,MAAM+C,EAAS/C,EAAWgD,KAAKU,IAAM,IACrCvC,KAAKkB,KAAKF,UAAU,CAClBH,EAAGb,KAAKnB,SAASgC,EAAIgB,KAAKI,IAAIL,IAAW5B,KAAKJ,MAAQ,EAAII,KAAKkB,KAAKtB,MAAQ,EAAII,KAAKtB,UACrFqC,EAAGf,KAAKnB,SAASkC,EAAIc,KAAKM,IAAIP,IAAW5B,KAAKH,OAAS,EAAIG,KAAKkB,KAAKrB,OAAS,EAAIG,KAAKtB,W,MAEpF,GAAIG,IAAa,SAAU,CAChCmB,KAAKkB,KAAKF,UAAU,CAClBH,EAAGb,KAAKnB,SAASgC,EACjBE,EAAGf,KAAKnB,SAASkC,G,MAEd,UAAWlC,IAAa,UAAYI,EAAUJ,KAAc2D,UAAW,CAC5E,MAAMZ,EAAS3C,EAAUJ,GAAYgD,KAAKU,IAAM,IAChDvC,KAAKkB,KAAKF,UAAU,CAClBH,EAAGb,KAAKnB,SAASgC,EAAIgB,KAAKI,IAAIL,IAAW5B,KAAKJ,MAAQ,EAAII,KAAKkB,KAAKtB,MAAQ,EAAII,KAAKtB,UACrFqC,EAAGf,KAAKnB,SAASkC,EAAIc,KAAKM,IAAIP,IAAW5B,KAAKH,OAAS,EAAIG,KAAKkB,KAAKrB,OAAS,EAAIG,KAAKtB,W,CAG3F,MAAM+D,EAAUzC,KAAKsB,QAAQmB,QAC7B,GAAIA,EAASA,G,WAIDC,EAAUnB,EAAqBD,EAAmB,IAChE,MAAM5C,SACJA,EAAWD,EAAeC,SAAQG,SAClCA,EAAWJ,EAAeI,SAAQD,OAClCA,EAASH,EAAeG,QACtB0C,EAEJ,MAAMqB,EAAM,IAAI1B,EAAIM,EAAOqB,cAAerB,GAC1CoB,EAAIrB,QAAUA,EACdqB,EAAIjE,SAAWA,EAEf,GAAIE,GAAU,YAAc+D,EAAI/C,MAAQ+C,EAAI9C,OAAQ8C,EAAI/C,MAAQ+C,EAAI9C,YAC/D,GAAIjB,GAAU,WAAY+D,EAAI9C,OAAS8C,EAAI/C,MAEhD+C,EAAIL,YAAYzD,GAEhB,OAAO8D,CACT,C,SAEgBE,EAAUF,GACxBA,EAAIhD,GAAK,KACTgD,EAAIzB,KAAKvB,GAAK,IAChB,C,SAEgBmD,EAAeH,GAC7B,MAAM7D,MACJA,EAAQL,EAAeK,MAAKD,SAC5BA,EAAWJ,EAAeI,SAAQF,MAClCA,EAAQF,EAAeE,MAAKI,QAC5BA,EAAUN,EAAeM,SACvB4D,EAAIrB,QAER,IAAII,EAAS,KAEbiB,EAAIxB,UAAY,EAAG4B,QAAOC,YACxB,IAAKtB,EAAQ,OACb,GAAI5C,EAAOmE,YAAW,KACpB,GAAIvB,EAAQiB,EAAIjB,OAAO,CAAEb,EAAGkC,EAAOhC,EAAGiC,GAAQ,GAC7ClE,QACE6D,EAAIjB,OAAO,CAAEb,EAAGkC,EAAOhC,EAAGiC,GAAQ,EAEzCjE,EAAQmE,iBAAiB,YAAaP,EAAIxB,WAE1C,GAAIxC,EAAO,CACT,MAAMwE,EAASpE,IAAYC,OAASoE,SAAYrE,EAAwBwB,cAExEoC,EAAIvB,WAAa,KAAQM,EAAS,IAAI,EACtCyB,EAAOD,iBAAiB,aAAcP,EAAIvB,YAE1CuB,EAAItB,WAAa,KACfK,EAAS,MACT,GAAI5C,EAAOmE,YAAW,IAAMN,EAAIL,YAAYzD,IAAWC,QAClD6D,EAAIL,YAAYzD,EAAS,EAEhCsE,EAAOD,iBAAiB,aAAcP,EAAItB,W,CAE9C,C,SAEgBgC,EAAcV,GAC5B,MAAMhE,MACJA,EAAQF,EAAeE,MAAKI,QAC5BA,EAAUN,EAAeM,SACvB4D,EAAIrB,QAERvC,EAAQuE,oBAAoB,YAAaX,EAAIxB,WAC7CwB,EAAIxB,UAAY,KAEhB,GAAIxC,EAAO,CACT,MAAMwE,EAASpE,IAAYC,OAASoE,SAAYrE,EAAwBwB,cAExE4C,EAAOG,oBAAoB,aAAcX,EAAIvB,YAC7CuB,EAAIvB,WAAa,KAEjB+B,EAAOG,oBAAoB,aAAcX,EAAItB,YAC7CsB,EAAItB,WAAa,I,CAErB,CCvOA,MAAMkC,EAAW,o7B,MCaJC,EAAY,M,sFAKU,E,cAKG,E,cAMU,S,YAKJ,U,WAKT,K,CAKMC,mBAGvCC,cAAcC,GACZC,EAAqB,QAASD,E,CAIhCE,iBAAiBF,GACfC,EAAqB,WAAYD,E,CAInCG,iBAAiBH,GACf,GAAIA,GAAY,MAAQA,IAAa,IACjCA,IAAa,UAAYA,IAAa,OACtCA,IAAa,UAAYA,IAAa,QACtCA,IAAa,SAAWA,IAAa,YACrCA,IAAa,WAAaA,IAAa,eACvCA,IAAa,eAAiBI,EAAkBJ,GAAW,CAC7D,MAAM,IAAIK,MAAM,yJ,EAKpBC,eAAeN,GACb,GAAIA,GAAY,MAAQA,IAAa,IACjCA,IAAa,WAAaA,IAAa,WAAY,CACrD,MAAM,IAAIK,MAAM,yD,EAKpBE,cAAcP,GACZ,GAAIA,GAAY,MAAQA,IAAa,IACjCA,IAAa,QAAUA,IAAa,SACpCA,IAAa,MAAQA,IAAa,MAAO,CAC3C,MAAM,IAAIK,MAAM,0C,EAIZG,WACAC,YAEAC,QACAC,SAERC,SACE,OAAOC,EAACC,EAAI,KACdD,EAAA,OAAKE,MAAM,OACTF,EAAA,OAAKE,MAAM,OAAOC,IAAKhF,GAAMK,KAAKmE,WAAaxE,KAEjD6E,EAAA,OAAKE,MAAM,OACTF,EAAA,OAAKE,MAAM,OAAOC,IAAKhF,GAAMK,KAAKoE,YAAczE,K,CAYlDiF,uBACE,GAAI5E,KAAKqE,UAAYrE,KAAKqE,QAAQlD,UAAW,CAC3C2B,EAAe9C,KAAKqE,SACpBvB,EAAe9C,KAAKsE,UACpB,OAAO,I,EAUXM,sBACE,GAAI5E,KAAKqE,SAAWrE,KAAKqE,QAAQlD,UAAW,CAC1CkC,EAAcrD,KAAKqE,SACnBhB,EAAcrD,KAAKsE,UACnB,OAAO,I,EASXM,sBACE,GAAI5E,KAAKqE,QAAS,CAChBrE,KAAKqE,QAAQ/B,YAAYtC,KAAKnB,UAC9BmB,KAAKsE,SAAShC,YAAYtC,KAAKnB,UAC/B,OAAO,I,EAIXgG,oBACE7E,KAAK8C,gB,CAGPgC,sBACE,GAAI9E,KAAKqE,QAAS,CAChBrE,KAAKqD,gBACLR,EAAU7C,KAAKqE,SACfxB,EAAU7C,KAAKsE,S,EAInBS,qBACE,MAAMjG,MAAEA,EAAKJ,SAAEA,EAAQG,SAAEA,EAAQD,OAAEA,EAAMD,MAAEA,GAAUqB,KACrD,MAAMyC,EAAU,KAAczC,KAAKyD,mBAAmBuB,MAAM,EAC5D,MAAM1D,EAAU,CAAExC,QAAOJ,WAAUG,WAAUD,SAAQD,QAAO8D,WAC5DzC,KAAKqE,QAAU3B,EAAU1C,KAAKmE,WAAY7C,GAC1CtB,KAAKsE,SAAW5B,EAAU1C,KAAKoE,YAAa9C,GAC5CtB,KAAK8C,gB,CAGPmC,uBACEjF,KAAKqD,e,uKAIT,SAASO,EAAqBsB,EAAcC,GAC1C,GAAIA,GAAS,MAAQA,IAAU,GAAI,OACnC,IAAKpB,EAAkBoB,GAAQ,MAAM,IAAInB,MAAM,GAAGkB,+CACpD,CAEA,SAASnB,EAAkBoB,GACzB,MAAMC,GAAUD,EAChB,OAAOC,GAAU,GAAMA,IAAWvD,KAAKwD,MAAMD,EAC/C,C"}